<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width,user-scalable=no" name="viewport" />
    <title>Back to top</title>
    <style type="text/css">
        #content { height: 1200px;}
        .text_center { text-align: center;}
        .btnTop { position: fixed; right: 2%; bottom: 2%; cursor: pointer; opacity: .7; z-index: 9; }
        .btnTop:hover { opacity: 1;}
        .imageTop { height: 72px; height: 72px;}
    </style>
</head>
<body>
<div id="content">
    <div class="text_center">往下拉哟</div><br />
    <div class="text_center">↓</div><br />
    <div class="text_center">↓</div><br />
    <div class="text_center">↓</div><br />
    <div class="text_center">↓</div><br />
    <div class="text_center">↓</div>
</div>
<a id="btnTop" class="btnTop" style="display:none;" href="javascript:;" title="Back to top">
    <img src="file:///home/r/%E6%A1%8C%E9%9D%A2/359646-20161022175243592-1498825584.png" class="imageTop">
</a>
<script>
    window.onload = function(){
        var btnTop = document.getElementById("btnTop");
        var timer = null;

        window.onscroll = function(){
            var backTop = getScrollTop();
            if(backTop >= 20){ //当前视口顶端大于等于20时，显示返回顶部的按钮
                btnTop.style.display = "block";
            }else {
                btnTop.style.display = "none";
            }
        };

        btnTop.onclick = function(){
            //定时执行
            timer = setInterval(function(){
                var backTop = getScrollTop();
                var speedTop = backTop / 10;
                //修改当前视口的数值，产生向上活动的效果
                setScrollTop(backTop - speedTop);
                if(backTop == 0){
                    //结束函数执行
                    clearInterval(timer);
                }
            },30);
        };
        //获取当前视口的顶端数值
        var getScrollTop = function(){
            var sTop ;
            if (document.compatMode == "BackCompat")
            {
                sTop = document.body.scrollTop;
            }
            else
            {
                //document.compatMode == \"CSS1Compat\"
                sTop = document.documentElement.scrollTop == 0 ? document.body.scrollTop : document.documentElement.scrollTop;
            }
            return sTop;
        };
        //设置当前视口的顶端数值
        var setScrollTop = function(top){

            if (document.compatMode == "BackCompat")
            {
                document.body.scrollTop = top;
            }
            else
            {
                if(document.documentElement.scrollTop == 0){
                    document.body.scrollTop = top;
                }else{
                    document.documentElement.scrollTop = top;
                }
            }
        }
    };
</script>
</body>
</html>